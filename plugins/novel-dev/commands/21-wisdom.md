---
description: "집필 과정에서 축적된 지혜(wisdom)를 관리합니다"
---

[NOVEL-DEV: WISDOM MANAGEMENT]

$ARGUMENTS

## 서브커맨드

### `/wisdom` 또는 `/wisdom show`

전체 wisdom 요약을 표시합니다.

**실행 단계**:
1. `meta/wisdom/` 디렉토리 존재 확인 (없으면 초기화)
2. 각 wisdom 파일 로드
3. 카테고리별 항목 수 집계
4. 최근 추가 항목 하이라이트
5. 요약 출력

**출력 형식**:
```
====================================================================
  Wisdom Summary
====================================================================

  스타일 발견: {N}건 (최근: "{최근 항목 제목}")
  음성 패턴: {N}명 등록
  복선 추적: {N}건 (ACTIVE: {N}, DEVELOPING: {N}, RESOLVED: {N})
  용어 사전: {N}개
  집필 교훈: {N}건

  최근 업데이트: 챕터 {N} 집필 후

====================================================================
```

### `/wisdom add style "설명"`

스타일 발견사항을 수동으로 추가합니다.

**실행 단계**:
1. `meta/wisdom/style-discoveries.md` 로드 (없으면 생성)
2. `meta/ralph-state.json`에서 현재 챕터 번호 확인
3. 형식에 맞춰 항목 추가:
   ```markdown
   ## [챕터 N] 사용자 입력 기반 제목
   - **효과적**: {사용자가 입력한 설명}
   - **적용**: {자동 추론 또는 사용자 추가 입력}
   ```
4. 파일 저장

### `/wisdom add voice "캐릭터명" "패턴 설명"`

캐릭터 음성 패턴을 수동으로 추가합니다.

**실행 단계**:
1. `meta/wisdom/voice-patterns.md` 로드 (없으면 생성)
2. 해당 캐릭터 섹션 검색
   - 있으면: 기존 섹션에 패턴 추가/업데이트
   - 없으면: 신규 섹션 생성
3. 기록 형식:
   ```markdown
   ## 캐릭터명
   - **기본 어조**: {추론 또는 입력}
   - **특징적 표현**: "패턴 설명"
   - **감정 변화 패턴**: {추론 또는 후속 입력}
   - **첫 등장**: 챕터 N
   ```
4. 파일 저장

### `/wisdom add thread "복선명" planted:N target:M`

복선을 수동으로 추가합니다.

**실행 단계**:
1. `meta/wisdom/plot-threads.md` 로드 (없으면 생성)
2. 중복 복선 확인 (동일 제목 존재 시 경고)
3. ACTIVE 상태로 신규 복선 추가:
   ```markdown
   ## [ACTIVE] 복선명
   - **심은 위치**: 챕터 N, "{관련 컨텍스트}"
   - **회수 예정**: 챕터 M
   - **상태**: PLANTED
   - **메모**: {추가 메모 또는 빈 칸}
   ```
4. 파일 저장

### `/wisdom add term "용어" "설명"`

용어를 수동으로 추가합니다.

**실행 단계**:
1. `meta/wisdom/terminology.md` 로드 (없으면 생성)
2. 중복 확인 (동일 용어 존재 시 경고 및 업데이트 제안)
3. 신규 용어 추가:
   ```markdown
   ## 용어
   - **정의**: 설명
   - **첫 등장**: 챕터 N (현재 챕터 기준)
   - **관련 설정**: {자동 추론 또는 빈 칸}
   ```
4. 파일 저장

### `/wisdom check`

축적된 wisdom의 건강 상태를 진단합니다.

**실행 단계**:
1. 모든 wisdom 파일 로드
2. `meta/ralph-state.json`에서 현재 챕터 확인
3. 진단 항목 실행:
   - **미회수 복선**: 회수 예정 챕터를 지난 PLANTED/DEVELOPING 복선
   - **장기 대기 복선**: PLANTED 상태로 10챕터 이상 경과
   - **미사용 용어**: `chapters/chapter_*.md`에서 용어 검색, 미사용 건 탐지
   - **음성 미등록**: `characters/*.json` 목록과 voice-patterns 대조
   - **스타일 비일관성**: 최근 3챕터에서 기록된 기법 적용 여부 확인
4. 진단 결과 출력

**출력 형식**:
```
====================================================================
  Wisdom Health Check
====================================================================

  --- 복선 상태 ---------------------------------------------------
  [!] 미회수 복선 {N}건
      - "{복선명}" ({planted}화 planted, {target}화 예정 -> 현재 {current}화)

  [~] 장기 대기 복선 {N}건
      - "{복선명}" ({planted}화 planted -> {elapsed}챕터째 {status})

  --- 용어 상태 ---------------------------------------------------
  [!] 미사용 용어 {N}건
      - "{용어}" ({chapter}화 정의, 본문 미사용)

  --- 캐릭터 음성 -------------------------------------------------
  [!] 음성 미등록 {N}명
      - {char_id} ({캐릭터명})

  --- 스타일 적용 -------------------------------------------------
  [v] 최근 3챕터 스타일 일관성 양호
  또는
  [!] 스타일 미적용 {N}건
      - "{기법}" (최근 {N}챕터에서 미사용)

====================================================================
  요약: 문제 {N}건 (긴급 {N}, 주의 {N})
  권장: {구체적 다음 행동}
====================================================================
```

## 자동 축적 연동

이 커맨드는 독립적으로 사용할 수 있지만, `/write` 및 `/write-all` 흐름에서도 자동 호출됩니다.

**집필 완료 후**: 챕터 완성 시 자동으로 wisdom 축적 프로토콜 실행
**집필 시작 시**: 컨텍스트 로딩에 관련 wisdom 자동 주입

## 의존 파일

| 파일 | 용도 | 비고 |
|------|------|------|
| `meta/wisdom/*.md` | Wisdom 저장소 | 자동 생성 |
| `meta/ralph-state.json` | 현재 챕터 정보 | 읽기 전용 |
| `characters/*.json` | 캐릭터 목록 | 읽기 전용 |
| `chapters/chapter_*.md` | 완성된 원고 | 읽기 전용 (check 시) |
