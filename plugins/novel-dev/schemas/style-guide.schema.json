{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://novel-dev.org/schemas/style-guide.schema.json",
  "title": "NovelStyleGuide",
  "description": "Style guide for narrative voice, tone, and writing conventions",
  "type": "object",
  "required": ["narrative_voice", "tense", "tone"],
  "properties": {
    "narrative_voice": {
      "type": "string",
      "enum": ["1인칭", "3인칭 제한 시점", "3인칭 전지적 시점"],
      "description": "Narrative perspective/point of view"
    },
    "pov_type": {
      "type": "string",
      "enum": ["single", "multiple", "omniscient"],
      "description": "POV type - single character, multiple POVs, or omniscient narrator"
    },
    "tense": {
      "type": "string",
      "enum": ["과거형", "현재형"],
      "description": "Narrative tense"
    },
    "tone": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Overall tone and atmosphere (e.g., 달달, 코믹, 긴장감, 우울)",
      "minItems": 1,
      "uniqueItems": true
    },
    "pacing_default": {
      "type": "string",
      "enum": ["fast", "medium", "slow"],
      "description": "Default pacing for the story",
      "default": "medium"
    },
    "dialogue_style": {
      "type": "string",
      "description": "Dialogue style guidelines (e.g., 자연스러운 구어체, 문어체)",
      "maxLength": 300
    },
    "description_density": {
      "type": "string",
      "enum": ["high", "medium", "low"],
      "description": "How much descriptive detail to include"
    },
    "sentence_rhythm": {
      "type": "string",
      "enum": ["short", "long", "mixed"],
      "description": "Typical sentence length and rhythm"
    },
    "pov_characters": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "POV 캐릭터 ID 목록 (다중 POV인 경우)"
    },
    "taboo_words": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 50
      },
      "description": "Words or phrases to avoid (e.g., 갑자기, 문득, 그런데)",
      "maxItems": 50,
      "uniqueItems": true
    },
    "filter_words": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 50
      },
      "description": "필터 단어 (보였다, 느꼈다 등 직접 서술 피하기)",
      "maxItems": 30,
      "uniqueItems": true
    },
    "preferred_expressions": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 100
      },
      "description": "Preferred expressions or stylistic choices",
      "maxItems": 50,
      "uniqueItems": true
    },
    "chapter_structure": {
      "type": "object",
      "description": "Standard chapter structure guidelines",
      "properties": {
        "opening_hook": {
          "type": "boolean",
          "description": "Whether chapters should start with a hook"
        },
        "scene_count_range": {
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 1
          },
          "description": "Typical range of scenes per chapter [min, max]",
          "minItems": 2,
          "maxItems": 2
        },
        "ending_hook": {
          "type": "boolean",
          "description": "Whether chapters should end with a cliffhanger/hook"
        }
      }
    },
    "emotional_beats": {
      "type": "object",
      "description": "감정 비트 설정",
      "properties": {
        "target_per_chapter": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "회차당 목표 감정 비트 수"
        },
        "types": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "사용할 감정 비트 유형 (심쿵, 긴장, 설렘 등)"
        }
      }
    },
    "korean_techniques": {
      "type": "object",
      "description": "한국어 문체 기법",
      "properties": {
        "use_onomatopoeia": {
          "type": "boolean",
          "description": "의성어/의태어 사용 여부"
        },
        "use_metaphors": {
          "type": "boolean",
          "description": "비유/은유 사용 여부"
        },
        "sentence_variation": {
          "type": "boolean",
          "description": "문장 길이 변화 사용 여부"
        }
      }
    },
    "show_dont_tell": {
      "type": "string",
      "enum": ["strict", "balanced", "flexible"],
      "description": "How strictly to apply show-don't-tell principle"
    },
    "special_instructions": {
      "type": "string",
      "description": "Additional style instructions or preferences",
      "maxLength": 2000
    },
    "adult_writing": {
      "type": "object",
      "description": "성인 장면 작성 스타일 설정 (2-Pass 파이프라인에서 Grok 리라이트 시 활용)",
      "properties": {
        "explicitness": {
          "type": "string",
          "enum": ["low", "medium", "high"],
          "description": "묘사 수위 (low: 암시적, medium: 은유적, high: 직접적)",
          "default": "high"
        },
        "emotional_focus": {
          "type": "boolean",
          "description": "감정 묘사 중심 여부",
          "default": true
        },
        "sensory_detail": {
          "type": "string",
          "enum": ["visual", "tactile", "emotional", "all"],
          "description": "주요 감각 묘사 유형",
          "default": "all"
        },
        "pacing": {
          "type": "string",
          "enum": ["quick", "gradual", "slow-burn"],
          "description": "성인 장면 페이싱",
          "default": "gradual"
        },
        "vocabulary_level": {
          "type": "string",
          "enum": ["crude", "moderate", "literary"],
          "description": "어휘 수준 (crude: 직설적, literary: 문학적)",
          "default": "literary"
        }
      }
    }
  }
}
