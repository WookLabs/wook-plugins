{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://novel-dev.org/schemas/character.schema.json",
  "title": "Character",
  "description": "Character profile schema with detailed background, personality, and development arc",
  "type": "object",
  "required": [
    "id",
    "name",
    "role",
    "basic",
    "inner"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "Character unique identifier (e.g., char_001)",
      "pattern": "^char_[a-z0-9_]+$"
    },
    "name": {
      "type": "string",
      "description": "Character's full name",
      "minLength": 1,
      "maxLength": 50
    },
    "aliases": {
      "type": "array",
      "description": "Alternative names, nicknames, or titles",
      "items": {
        "type": "string",
        "maxLength": 50
      },
      "maxItems": 10,
      "uniqueItems": true
    },
    "role": {
      "type": "string",
      "description": "Character role in the story",
      "enum": [
        "protagonist",
        "deuteragonist",
        "antagonist",
        "supporting",
        "minor",
        "cameo"
      ]
    },
    "basic": {
      "type": "object",
      "description": "Basic physical and vocal characteristics",
      "required": ["age", "gender"],
      "properties": {
        "age": {
          "type": ["integer", "string"],
          "description": "Age in years or descriptive age group"
        },
        "gender": {
          "type": "string",
          "description": "Gender identity"
        },
        "birthday": {
          "type": "string",
          "description": "Birthday (format flexible)"
        },
        "appearance": {
          "type": "object",
          "description": "Physical appearance details",
          "properties": {
            "height": {
              "type": "string",
              "description": "Height (e.g., 165cm, 5'5\")"
            },
            "build": {
              "type": "string",
              "description": "Body build/type"
            },
            "features": {
              "type": "array",
              "description": "Notable physical features",
              "items": {
                "type": "string",
                "maxLength": 200
              },
              "maxItems": 10
            }
          }
        },
        "voice": {
          "type": "object",
          "description": "Voice and speech characteristics",
          "properties": {
            "tone": {
              "type": "string",
              "description": "Voice tone/quality"
            },
            "speech_pattern": {
              "type": "string",
              "description": "How they speak (formal, casual, etc.)"
            },
            "vocabulary": {
              "type": "string",
              "description": "Typical vocabulary/word choice"
            },
            "signature_phrases": {
              "type": "array",
              "description": "자주 쓰는 말버릇/표현 (예: '그러니까 말이야', '뭐랄까')",
              "items": {
                "type": "string",
                "maxLength": 100
              },
              "minItems": 2,
              "maxItems": 10
            },
            "speech_examples": {
              "type": "array",
              "description": "캐릭터 대사 예시 (3-5개)",
              "items": {
                "type": "object",
                "properties": {
                  "situation": {
                    "type": "string",
                    "description": "상황 설명"
                  },
                  "dialogue": {
                    "type": "string",
                    "description": "실제 대사"
                  }
                },
                "required": ["situation", "dialogue"]
              },
              "minItems": 3,
              "maxItems": 7
            },
            "dialect": {
              "type": "string",
              "description": "사투리/방언 (예: 표준어, 부산 사투리, 전라도 사투리)"
            },
            "formality_level": {
              "type": "string",
              "enum": ["very_formal", "formal", "neutral", "casual", "very_casual"],
              "description": "기본 말투 격식 수준"
            }
          }
        }
      }
    },
    "background": {
      "type": "object",
      "description": "Character backstory and history",
      "properties": {
        "origin": {
          "type": "string",
          "description": "Place of origin/hometown"
        },
        "family": {
          "type": "string",
          "description": "Family composition and relationships"
        },
        "education": {
          "type": "string",
          "description": "Educational background"
        },
        "occupation": {
          "type": "string",
          "description": "Current occupation/job"
        },
        "economic_status": {
          "type": "string",
          "description": "Economic/social status"
        },
        "trauma": {
          "type": "string",
          "description": "Past traumatic experiences"
        },
        "secret": {
          "type": "object",
          "description": "Character secret to be revealed",
          "properties": {
            "content": {
              "type": "string",
              "description": "The secret itself"
            },
            "reveal_chapter": {
              "type": "integer",
              "description": "Chapter where secret is revealed",
              "minimum": 1
            }
          }
        }
      }
    },
    "inner": {
      "type": "object",
      "description": "Internal motivations and psychology",
      "required": ["want", "need"],
      "properties": {
        "want": {
          "type": "string",
          "description": "Surface-level desire (external goal)"
        },
        "need": {
          "type": "string",
          "description": "Deep internal need (true requirement for growth)"
        },
        "fatal_flaw": {
          "type": "string",
          "description": "Fatal flaw or main weakness"
        },
        "values": {
          "type": "array",
          "description": "Core values",
          "items": {
            "type": "string",
            "maxLength": 100
          },
          "maxItems": 10
        },
        "fears": {
          "type": "array",
          "description": "Deep fears",
          "items": {
            "type": "string",
            "maxLength": 100
          },
          "maxItems": 10
        }
      }
    },
    "personality": {
      "type": "object",
      "description": "성격 유형 및 특성",
      "properties": {
        "mbti": {
          "type": "string",
          "pattern": "^[EI][SN][TF][JP]$",
          "description": "MBTI 유형 (예: ENFP, ISTJ)"
        },
        "temperament": {
          "type": "string",
          "enum": ["sanguine", "choleric", "melancholic", "phlegmatic", "mixed"],
          "description": "기질 유형 (다혈질, 담즙질, 우울질, 점액질)"
        },
        "traits": {
          "type": "array",
          "description": "핵심 성격 특성 (3-5개)",
          "items": {
            "type": "string",
            "maxLength": 50
          },
          "minItems": 3,
          "maxItems": 7
        },
        "introvert_extrovert": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "내향-외향 스펙트럼 (1=극내향, 10=극외향)"
        },
        "emotional_stability": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "정서적 안정성 (1=불안정, 10=매우 안정)"
        },
        "openness": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "개방성 (1=보수적, 10=매우 개방적)"
        }
      }
    },
    "intelligence": {
      "type": "object",
      "description": "지능 및 인지 특성",
      "properties": {
        "iq_level": {
          "type": "string",
          "enum": ["below_average", "average", "above_average", "gifted", "genius"],
          "description": "지능 수준"
        },
        "emotional_iq": {
          "type": "string",
          "enum": ["low", "average", "high", "exceptional"],
          "description": "감정 지능 (공감 능력, 타인 이해)"
        },
        "street_smart": {
          "type": "string",
          "enum": ["low", "average", "high"],
          "description": "세상 물정, 처세술"
        },
        "learning_style": {
          "type": "string",
          "enum": ["visual", "auditory", "kinesthetic", "reading"],
          "description": "학습 스타일"
        },
        "strengths": {
          "type": "array",
          "description": "인지적 강점 (예: 분석력, 창의력, 기억력)",
          "items": {
            "type": "string",
            "maxLength": 50
          },
          "maxItems": 5
        },
        "weaknesses": {
          "type": "array",
          "description": "인지적 약점",
          "items": {
            "type": "string",
            "maxLength": 50
          },
          "maxItems": 5
        }
      }
    },
    "behavior": {
      "type": "object",
      "description": "Behavioral patterns and habits",
      "properties": {
        "habits": {
          "type": "array",
          "description": "Regular habits or quirks",
          "items": {
            "type": "string",
            "maxLength": 200
          },
          "maxItems": 10
        },
        "hobbies": {
          "type": "array",
          "description": "Hobbies and interests",
          "items": {
            "type": "string",
            "maxLength": 100
          },
          "maxItems": 10
        },
        "likes": {
          "type": "array",
          "description": "Things they like",
          "items": {
            "type": "string",
            "maxLength": 100
          },
          "maxItems": 15
        },
        "dislikes": {
          "type": "array",
          "description": "Things they dislike",
          "items": {
            "type": "string",
            "maxLength": 100
          },
          "maxItems": 15
        },
        "stress_response": {
          "type": "string",
          "description": "How they react under stress"
        },
        "lying_tell": {
          "type": "string",
          "description": "Observable behavior when lying"
        }
      }
    },
    "relationships": {
      "type": "array",
      "description": "Relationships with other characters",
      "items": {
        "type": "object",
        "required": ["character_id", "type"],
        "properties": {
          "character_id": {
            "type": "string",
            "description": "ID of the related character (e.g., char_002)"
          },
          "type": {
            "type": "string",
            "description": "Type of relationship",
            "enum": [
              "family",
              "friend",
              "enemy",
              "rival",
              "romantic",
              "mentor",
              "student",
              "colleague",
              "acquaintance",
              "other"
            ]
          },
          "detail": {
            "type": "string",
            "description": "Specific relationship description (e.g., 'older sister', 'ex-boyfriend')"
          },
          "dynamic": {
            "type": "string",
            "description": "How the relationship evolves throughout the story"
          },
          "tension": {
            "type": "string",
            "description": "Source of conflict or tension in the relationship"
          }
        }
      },
      "uniqueItems": true
    },
    "arc": {
      "type": "object",
      "description": "Character development arc throughout the story",
      "properties": {
        "start_state": {
          "type": "string",
          "description": "Character's state at story beginning"
        },
        "catalyst": {
          "type": "string",
          "description": "Event that triggers change"
        },
        "midpoint": {
          "type": "string",
          "description": "Major midpoint change or realization"
        },
        "dark_night": {
          "type": "string",
          "description": "Lowest point/dark night of the soul"
        },
        "transformation": {
          "type": "string",
          "description": "Key transformation moment"
        },
        "end_state": {
          "type": "string",
          "description": "Character's state at story end"
        }
      }
    },
    "notes": {
      "type": "string",
      "description": "Additional notes or considerations"
    }
  }
}
