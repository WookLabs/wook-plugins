{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://novel-dev.org/schemas/style-library.schema.json",
  "title": "StyleLibrary",
  "description": "Few-shot prose exemplar storage for style-guided generation",
  "type": "object",
  "required": ["exemplars", "metadata"],
  "properties": {
    "exemplars": {
      "type": "array",
      "description": "Collection of style exemplars for few-shot learning",
      "items": {
        "type": "object",
        "required": ["id", "content", "genre", "scene_type", "is_anti_exemplar", "source"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier in format exm_{genre}_{NNN}",
            "pattern": "^exm_[a-z0-9_]+$"
          },
          "content": {
            "type": "string",
            "description": "Scene-length prose exemplar (500-1500 chars recommended)",
            "minLength": 500,
            "maxLength": 2000
          },
          "genre": {
            "type": "array",
            "description": "Genre tags (multi-genre tagging supported)",
            "items": {
              "type": "string"
            },
            "minItems": 1,
            "uniqueItems": true
          },
          "scene_type": {
            "type": "string",
            "description": "Primary scene type classification",
            "enum": [
              "opening-hook",
              "dialogue",
              "action",
              "emotional-peak",
              "transition",
              "description",
              "climax",
              "denouement"
            ]
          },
          "emotional_tone": {
            "type": "array",
            "description": "Emotional dimension tags",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "pov": {
            "type": "string",
            "description": "Narrative point of view",
            "enum": ["first-person", "third-limited", "third-omniscient"]
          },
          "pacing": {
            "type": "string",
            "description": "Pacing speed",
            "enum": ["fast", "medium", "slow"]
          },
          "is_anti_exemplar": {
            "type": "boolean",
            "description": "True if this is an anti-exemplar (what NOT to write)",
            "default": false
          },
          "anti_exemplar_pair": {
            "type": "string",
            "description": "ID of the corresponding good exemplar (only for anti-exemplars)",
            "pattern": "^exm_[a-z0-9_]+$"
          },
          "source": {
            "type": "string",
            "description": "Attribution or 'curated' for original content"
          },
          "quality_notes": {
            "type": "string",
            "description": "Explanation of why this exemplar is good/bad",
            "maxLength": 1000
          },
          "language_features": {
            "type": "array",
            "description": "Notable Korean language techniques used",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "created_at": {
            "type": "string",
            "description": "ISO 8601 timestamp of creation",
            "format": "date-time"
          }
        },
        "additionalProperties": false
      }
    },
    "metadata": {
      "type": "object",
      "description": "Library metadata and statistics",
      "required": ["version", "total_exemplars", "genres_covered", "last_updated"],
      "properties": {
        "version": {
          "type": "string",
          "description": "Schema version",
          "default": "1.0.0"
        },
        "total_exemplars": {
          "type": "integer",
          "description": "Total number of exemplars in library",
          "minimum": 0
        },
        "genres_covered": {
          "type": "array",
          "description": "List of genres covered by exemplars",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "last_updated": {
          "type": "string",
          "description": "ISO 8601 timestamp of last update",
          "format": "date-time"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
