---
name: timing-diagram
description: ASCII 타이밍 다이어그램 생성 가이드
allowed-tools: Read, Write
---

# Timing Diagram

사이클 단위 ASCII 타이밍 다이어그램 생성 가이드.

## 기본 문법

### 클럭 신호
```
   clk      ────┴────┴────┴────┴────┴────┴────┴────┴────
```

### 단일 비트 신호

```
# High
   signal   ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾

# Low
   signal   ________________________________________

# Rising edge
   signal   ________/‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾

# Falling edge
   signal   ‾‾‾‾‾‾‾‾\________________________________

# Pulse
   signal   ________/‾‾‾‾‾‾‾‾\________________________

# Toggle
   signal   ____/‾‾‾‾\____/‾‾‾‾\____/‾‾‾‾\____/‾‾‾‾\__
```

### 다중 비트 신호 (버스)

```
# Stable data
   data[7:0]  ====<0x55>================================

# Changing data
   data[7:0]  ====<0x55><0xAA><0xFF><0x00>==============

# Unknown/X
   data[7:0]  ====<XXXX>================================

# High-Z
   data[7:0]  ====<ZZZZ>================================
```

### 특수 표기

```
# Don't care
   signal   ----XXXX----XXXX----XXXX----

# Metastable
   signal   ____/~~~~\____  (불안정 구간)

# Setup/Hold violation
   signal   ____/‾‾‾‾[!]‾‾‾‾\____  (위반 지점)
```

## 전체 예제

### AXI-Stream Handshake

```
         cycle  1    2    3    4    5    6    7    8
                │    │    │    │    │    │    │    │
   clk      ────┴────┴────┴────┴────┴────┴────┴────┴────

   tvalid   ____/‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾\________
                     │         │         │
   tdata    ========<D0  >====<D1  >====<D2  >========
                     │         │         │
   tready   ‾‾‾‾‾‾‾‾‾‾‾‾‾\____/‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾
                          │
                     backpressure

   Transfer: cycle 2 (D0), cycle 5 (D1), cycle 6 (D2)
```

### FSM 상태 전이

```
         cycle  1    2    3    4    5    6    7    8
                │    │    │    │    │    │    │    │
   clk      ────┴────┴────┴────┴────┴────┴────┴────┴────

   state    <IDLE><INIT><WAIT>====<RUN ><RUN ><DONE><IDLE>
                  │    │         │              │
   start    ____/‾‾‾‾\__________________________________

   busy     ________/‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾\______

   done     ____________________________________/‾‾‾‾\__
```

### CDC 동기화

```
         clk_a domain          │    clk_b domain
                               │
   clk_a    ──┴──┴──┴──┴──┴──  │
                               │
   sig_a    __/‾‾‾‾‾‾‾‾‾‾‾‾‾‾  │
                               │
   ═══════════════════════════ │ ════════════════════
                               │
                               │  clk_b  ─┴─┴─┴─┴─┴─┴─
                               │
                               │  sync1  ___/‾‾‾‾‾‾‾‾
                               │            │
                               │  sync2  _____/‾‾‾‾‾‾
                               │              │
                               │  sig_b  _______/‾‾‾‾
                               │
   동기화 지연: 2-3 clk_b cycles
```

## 주석 규칙

```
         cycle  1    2    3    4    5
                │    │    │    │    │
   signal   ____/‾‾‾‾‾‾‾‾\________/‾‾‾‾
                │         │       │
                ①        ②       ③

① valid asserted
② valid deasserted (no ack)
③ retry
```

## 다중 클럭 도메인

```
   clk_100   ─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─  (100MHz)

   clk_50    ──┴────┴────┴────┴────┴──  (50MHz)

   clk_25    ────┴────────┴────────┴──  (25MHz)
```

## 자동 트리거

다음 패턴에서 자동 활성화:
- "타이밍 다이어그램"
- "timing diagram"
- "waveform"
- "파형"
